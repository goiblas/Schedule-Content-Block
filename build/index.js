!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=24)}([function(e,t){!function(){e.exports=this.wp.element}()},function(e,t){!function(){e.exports=this.wp.i18n}()},function(e,t){!function(){e.exports=this.wp.components}()},function(e,t){!function(){e.exports=this.wp.blockEditor}()},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t){!function(){e.exports=this.wp.blocks}()},function(e,t,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var c=typeof r;if("string"===c||"number"===c)e.push(r);else if(Array.isArray(r)&&r.length){var i=o.apply(null,r);i&&e.push(i)}else if("object"===c)for(var u in r)n.call(r,u)&&r[u]&&e.push(u)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){var r=n(15);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t,n){var r=n(16),o=n(17);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?o(e):t}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){var r=n(18),o=n(19),c=n(20);e.exports=function(e){return r(e)||o(e)||c()}},function(e,t,n){var r=n(21),o=n(22),c=n(23);e.exports=function(e,t){return r(e)||o(e,t)||c()}},function(e,t){wp.i18n.setLocaleData({"":{}},"schedule-content-block")},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,o=!1,c=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,c=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw c}}return n}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,n){"use strict";n.r(t);n(14);var r=n(0),o=n(3),c=n(5),i=n(1),u=n(6),a=n.n(u),l=Object(r.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",width:"20px",height:"20px"},Object(r.createElement)("path",{d:"M88.3,14.4h-9.5v4.1c0,3.9-3.2,7.1-7.1,7.1h-4.4c-3.9,0-7.1-3.2-7.1-7.1v-4.1H39.7v4.1c0,3.9-3.2,7.1-7.1,7.1h-4.4 c-3.9,0-7.1-3.2-7.1-7.1v-4.1h-9.5c-3.8,0-6.8,3.1-6.8,6.8v66.2c0,3.8,3.1,6.8,6.8,6.8h76.6c3.8,0,6.8-3.1,6.8-6.8V21.2 C95.1,17.4,92.1,14.4,88.3,14.4z M87.3,86.4H12.7V34.9h74.6V86.4z M28.2,21.6c-1.8,0-3.2-1.4-3.2-3.2V8.9c0-1.8,1.4-3.2,3.2-3.2h4.4 c1.8,0,3.2,1.4,3.2,3.2v9.6c0,1.8-1.4,3.2-3.2,3.2H28.2z M67.4,21.6c-1.8,0-3.2-1.4-3.2-3.2V8.9c0-1.8,1.4-3.2,3.2-3.2h4.4 c1.8,0,3.2,1.4,3.2,3.2v9.6c0,1.8-1.4,3.2-3.2,3.2H67.4z M50,81.4c11.3,0,20.6-9.3,20.6-20.6c0-11.5-9.3-20.6-20.6-20.6 c-11.5,0-20.6,9.3-20.6,20.6C29.4,72.2,38.7,81.4,50,81.4z M47,61c0-0.1,0-0.1,0-0.2l0.9-12.2v-0.1c0.1-1,1-1.7,2-1.7 c1,0,1.9,0.9,2,1.9l0.7,11.1c0,0.2,0.1,0.6,0.4,0.9l5,6c0.5,0.9,0.5,2-0.1,2.6c-0.7,0.7-2,0.7-2.7,0.1l-6.8-5.7 c-0.1-0.1-0.2-0.2-0.4-0.4c-0.6-0.5-0.9-1.2-0.9-2C47,61,47,61,47,61z"})),s=n(7),f=n.n(s),b=n(8),p=n.n(b),d=n(9),h=n.n(d),m=n(10),y=n.n(m),O=n(4),v=n.n(O),j=n(2),g=n(11),w=n.n(g),_=n(12),x=n.n(_),E=n(13),k=n.n(E);function D(e){return new Date(e).getTime()}var P=function(e){var t=e.isHidden,n=e.currentDate,o=e.onChangeDate,c=e.onChangeHidden,u=e.isInvalidDate,a=e.deletePanel,l=Object(r.useState)(""),s=k()(l,2),f=s[0],b=s[1];Object(r.useEffect)((function(){var e,r,o=t?Object(i.__)("Hidden","schedule-content-block"):Object(i.__)("Visible","schedule-content-block"),c=(e=new Date(n),r=navigator.language||"en-US",new Intl.DateTimeFormat(r,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",hour12:!1}).format(e).replace(",",""));b("".concat(o," - ").concat(c))}),[n,t]);return Object(r.createElement)(j.PanelBody,{title:f,initialOpen:!0},Object(r.createElement)(j.Button,{isDestructive:!0,isLink:!0,onClick:a},Object(i.__)("Delete","schedule-content-block")),Object(r.createElement)("hr",null),Object(r.createElement)(j.DateTimePicker,{isInvalidDate:u,currentDate:n,onChange:o}),Object(r.createElement)("hr",null),Object(r.createElement)(j.SelectControl,{label:Object(i.__)("Visibility","schedule-content-block"),value:t?"hidden":"visible",onChange:function(e){return c("hidden"===e)},options:[{label:Object(i.__)("Visible","schedule-content-block"),value:"visible"},{label:Object(i.__)("Hidden","schedule-content-block"),value:"hidden"}]}))};function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=function(e){var t=e.dates,n=e.setDates,o=function(e,r){var o=t.map((function(t,n){return e===n?C(C({},t),r):t}));n(o)};return Object(r.createElement)(r.Fragment,null,t&&t.map((function(e,c){var i=e.timestamp,u=e.hidden;return Object(r.createElement)(P,{key:c,isHidden:u,currentDate:i,onChangeHidden:function(e){return o(c,{hidden:e})},onChangeDate:function(e){return o(c,{timestamp:D(e)})},deletePanel:function(){return e=c,r=t.filter((function(t,n){return e!==n})),void n(r);var e,r},isInvalidDate:function(e){return c>0&&function(e,t){return e>=D(t)}(t[c-1].timestamp,e)}})})),Object(r.createElement)(j.PanelBody,null,Object(r.createElement)(j.Button,{isPrimary:!0,onClick:function(){if(t&&t.length>=1){var e=t[t.length-1];n([].concat(x()(t),[{timestamp:e.timestamp+36e5,hidden:!e.hidden}]))}else n([{timestamp:D(new Date),hidden:!0}])}},Object(i.__)("Add new date","schedule-content-block"))))},T=function(e){var t=e.hiddenStart,n=e.setAttributes,o=e.date,c=t?"startAsHidden":"startAsVisible";return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(j.PanelBody,null,Object(r.createElement)(j.DateTimePicker,{currentDate:o,onChange:function(e){var t=new Date(e).getTime();n({date:t})}})),Object(r.createElement)(j.PanelBody,null,Object(r.createElement)(j.RadioControl,{selected:c,options:[{label:Object(i.__)("Start as visible","schedule-content-block"),value:"startAsVisible"},{label:Object(i.__)("Start as hidden","schedule-content-block"),value:"startAsHidden"}],onChange:function(e){n({hiddenStart:"startAsHidden"===e})}})))};function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var M=function(e){h()(n,e);var t=H(n);function n(){return f()(this,n),t.apply(this,arguments)}return p()(n,[{key:"render",value:function(){var e=this.props,t=e.attributes,n=e.setAttributes,c=t.date,u=t.hiddenStart,a=t.isMultiDate,l=t.dates;return Object(r.createElement)(o.InspectorControls,null,Object(r.createElement)(j.PanelBody,null,Object(r.createElement)(j.ToggleControl,{label:Object(i.__)("Enable multiple dates","schedule-content-block"),checked:a,onChange:function(){return n({isMultiDate:!a})}})),a?Object(r.createElement)(A,{dates:l,setDates:function(e){return n({dates:e})}}):Object(r.createElement)(T,{date:c,setAttributes:n,hiddenStart:u}))}}]),n}(r.Component);Object(c.registerBlockType)("schedule-content-block/schedule-content-block",{title:Object(i.__)("Schedule Content Block","schedule-content-block"),category:"formatting",keywords:[Object(i.__)("shedule","schedule-content-block"),Object(i.__)("date","schedule-content-block"),Object(i.__)("restrict","schedule-content-block")],description:Object(i.__)("Add the date from which you want the content to be visible","schedule-content-block"),icon:l,edit:function(e){var t,n=e.className,c=e.attributes,i=c.hiddenStart,u=c.date,l=c.isMultiDate,s=new Date(u).getTime(),f=(new Date).getTime();return t=i?s>f:s<f,l&&(t=!0),Object(r.createElement)(r.Fragment,null,Object(r.createElement)(M,e),Object(r.createElement)("div",{className:a()(n,{isHidden:t})},Object(r.createElement)(o.InnerBlocks,{templateLock:!1})))},save:function(){return Object(r.createElement)(o.InnerBlocks.Content,null)}})}]);